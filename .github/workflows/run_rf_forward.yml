name: Run RF Forward Training

on:
  workflow_dispatch:   # üëà Cho ph√©p ch·∫°y th·ªß c√¥ng

jobs:
  run_rf_forward:
    runs-on: ubuntu-latest

    steps:
      # 1Ô∏è‚É£ L·∫•y code t·ª´ repo (ph·∫£i c√≥)
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2Ô∏è‚É£ C√†i Python
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      # 3Ô∏è‚É£ C√†i c√°c th∆∞ vi·ªán c·∫ßn thi·∫øt
      - name: Install dependencies
        run: |
          pip install -U pip
          pip install numpy pandas scikit-learn imbalanced-learn matplotlib

      # 4Ô∏è‚É£ T·∫£i file d·ªØ li·ªáu m·∫´u (n·∫øu c·∫ßn)
      - name: Download dataset
        run: |
          mkdir -p data
          wget -O data/data2.csv https://github.com/thanhnha01/NCKH_ANHHONG/releases/download/v1.0/data2.csv

      # 5Ô∏è‚É£ Ch·∫°y file ch√≠nh
      - name: Run RF Forward training
        run: |
          python rf_forward_train.py

      # 6Ô∏è‚É£ N√©n k·∫øt qu·∫£ ƒë·∫ßu ra
      - name: Compress results
        run: |
          zip -r results.zip results

      # 7Ô∏è‚É£ ƒê∆∞a file n√©n l√™n m·ª•c Releases
      - name: Upload to Release
        uses: softprops/action-gh-release@v2
        with:
          files: results.zip
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
